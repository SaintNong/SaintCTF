{% import 'dependencies.html' as dependencies %}
{% import 'charts.html' as charts %}
{% extends "base.html" %}
{% block title %}Leaderboard{% endblock %}

{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/leaderboard.css') }}">

    {{ dependencies.head(sweetalert2=True, tippy=True, chart_js=True) }}

    <script src="{{ url_for('static', filename='js/utils.js') }}" defer></script>
    <script data-username="{{ user.username }}" src="{{ url_for('static', filename='js/leaderboard.js') }}" defer></script>
{% endblock %}

{% block body %}
    <h2 id="leaderboard-heading">Top 10 scores over time</h2>

    {{ charts.chart("leaderboard-chart", True) }}

    <div class="dashboard-container">
        <section id="leaderboard-section" class="card dashboard-panel">
            <h2>Leaderboard</h2>
            <table id="leaderboard"></table>
        </section>

        <section id="recent-activity-section" class="card dashboard-panel">
            <div class="link-row">
                <h2>Recent Solves</h2>
                <a href="{{ url_for('solves') }}">See all solves &rarr;</a>
            </div>
            <table id="recent-table"></table>
        </section>
    </div>
{% endblock %}
